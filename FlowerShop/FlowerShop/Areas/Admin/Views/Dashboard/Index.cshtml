@using FlowerShop.Models;

@{
    ViewBag.Title = "Index";

}

<section class="content-header">
    <h1>
        Dashboard
    </h1>
    <ol class="breadcrumb">
        <li><a href="/Admin/Index"><i class="fa fa-dashboard"></i> Home</a></li>
    </ol>
</section>

<section class="content">
    <div class="row">
        <div class="col-md-12">
            <div class="box">
                <div class="box-header with-border">
                    <h3 class="box-title">Monthly Recap Report</h3>

                    <div class="box-tools pull-right">
                        <button type="button" class="btn btn-box-tool" data-widget="collapse">
                            <i class="fa fa-minus"></i>
                        </button>
                        <div class="btn-group">
                            <button type="button" class="btn btn-box-tool dropdown-toggle" data-toggle="dropdown">
                                <i class="fa fa-wrench"></i>
                            </button>
                            <ul class="dropdown-menu" role="menu">
                                <li><a href="#">Action</a></li>
                                <li><a href="#">Another action</a></li>
                                <li><a href="#">Something else here</a></li>
                                <li class="divider"></li>
                                <li><a href="#">Separated link</a></li>
                            </ul>
                        </div>
                        <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
                    </div>
                </div>
                <!-- /.box-header -->
                <div class="box-body">
                    <div class="row">
                        <div class="col-md-8">
                            <p class="text-center">
                                @{
                                    var firstday = DateTime.Now;
                                    firstday = firstday.AddDays((-firstday.Day) + 1);

                                    var lastday = DateTime.Now;
                                    lastday = lastday.AddMonths(1);
                                    lastday = lastday.AddDays(-(lastday.Day));
                                }
                                <strong>Orders: @firstday.ToString("dd/MM/yyyy") - @lastday.ToString("dd/MM/yyyy")</strong>
                            </p>

                            <div class="chart">
                                <!-- Sales Chart Canvas -->
                                <canvas id="salesChart" style="height: 180px;"></canvas>
                            </div>
                            <!-- /.chart-responsive -->
                        </div>
                        <!-- /.col -->
                        <div class="col-md-4">
                            <p class="text-center">
                                <strong>Orders</strong>
                            </p>

                            <div class="progress-group">
                                <span class="progress-text">Pendding</span>
                                <span class="progress-number"><b>@ViewBag.pendding</b>/@ViewBag.total</span>
                                @{
                                    float pendding = float.Parse(ViewBag.pendding) / float.Parse(ViewBag.total) * 100;
                                    float processing = float.Parse(ViewBag.processing) / float.Parse(ViewBag.total) * 100;
                                    float complete = float.Parse(ViewBag.complete) / float.Parse(ViewBag.total) * 100;
                                    float cancel = float.Parse(ViewBag.cancel) / float.Parse(ViewBag.total) * 100;
                                }
                                <div class="progress sm">
                                    <div class="progress-bar progress-bar-yellow" style="width: @pendding%"></div>
                                </div>
                            </div>
                            <!-- /.progress-group -->
                            <div class="progress-group">
                                <span class="progress-text">Processing</span>
                                <span class="progress-number"><b>@ViewBag.processing</b>/@ViewBag.total</span>

                                <div class="progress sm">
                                    <div class="progress-bar progress-bar-aqua" style="width: @processing%"></div>
                                </div>
                            </div>
                            <!-- /.progress-group -->
                            <div class="progress-group">
                                <span class="progress-text">Complete</span>
                                <span class="progress-number"><b>@ViewBag.complete</b>/@ViewBag.total</span>

                                <div class="progress sm">
                                    <div class="progress-bar progress-bar-green" style="width: @complete%"></div>
                                </div>
                            </div>
                            <!-- /.progress-group -->
                            <div class="progress-group">
                                <span class="progress-text">Cancel</span>
                                <span class="progress-number"><b>@ViewBag.cancel</b>/@ViewBag.total</span>

                                <div class="progress sm">
                                    <div class="progress-bar progress-bar-red" style="width: @cancel%"></div>
                                </div>
                            </div>
                            <!-- /.progress-group -->
                        </div>
                        <!-- /.col -->
                    </div>
                    <!-- /.row -->
                </div>
                <!-- ./box-body -->
                <div class="box-footer">
                    <div class="row">
                        <div class="col-sm-3 col-xs-6">
                            <div class="description-block border-right">
                                @*<span class="description-percentage text-green"><i class="fa fa-caret-up"></i> 17%</span>*@
                                <h5 class="description-header">@ViewBag.TR đ</h5>
                                <span class="description-text">TOTAL REVENUE</span>
                            </div>
                            <!-- /.description-block -->
                        </div>
                        <!-- /.col -->
                        <div class="col-sm-3 col-xs-6">
                            <div class="description-block border-right">
                                @*<span class="description-percentage text-yellow"><i class="fa fa-caret-left"></i> 0%</span>*@
                                <h5 class="description-header">@ViewBag.TC đ</h5>
                                <span class="description-text">TOTAL COST</span>
                            </div>
                            <!-- /.description-block -->
                        </div>
                        <!-- /.col -->
                        <div class="col-sm-3 col-xs-6">
                            <div class="description-block border-right">
                                @*<span class="description-percentage text-green"><i class="fa fa-caret-up"></i> 20%</span>*@
                                <h5 class="description-header">@ViewBag.TP đ</h5>
                                <span class="description-text">TOTAL PROFIT</span>
                            </div>
                            <!-- /.description-block -->
                        </div>
                        <!-- /.col -->
                        <div class="col-sm-3 col-xs-6">
                            <div class="description-block">
                                @*<span class="description-percentage text-red"><i class="fa fa-caret-down"></i> 18%</span>*@
                                <h5 class="description-header">@ViewBag.total orders</h5>
                                <span class="description-text">TOTAL ORDERS</span>
                            </div>
                            <!-- /.description-block -->
                        </div>
                    </div>
                    <!-- /.row -->
                </div>
                <!-- /.box-footer -->
            </div>
            <!-- /.box -->
        </div>
        <!-- /.col -->
    </div>
    <!-- /.row -->
</section>